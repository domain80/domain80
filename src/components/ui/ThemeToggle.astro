---
// Theme toggle component with inline script for instant theme switching
---

<div class="flex items-center gap-2 mb-6">
  <button
    id="theme-toggle"
    class="relative w-12 h-6 bg-gray-300 dark:bg-gray-600 rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2"
    aria-label="Toggle theme"
  >
    <div
      id="theme-toggle-dot"
      class="absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform duration-200"
    ></div>
  </button>
  <span id="theme-label" class="text-sm text-gray-600 dark:text-gray-400">
    Light Mode
  </span>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const toggle = document.getElementById('theme-toggle');
    const dot = document.getElementById('theme-toggle-dot');
    const label = document.getElementById('theme-label');

    function updateUI() {
      const isDark = document.documentElement.classList.contains('dark');

      // Update label
      if (label) {
        label.textContent = isDark ? 'Dark Mode' : 'Light Mode';
      }

      // Update dot position
      if (dot) {
        if (isDark) {
          dot.style.transform = 'translateX(24px)';
        } else {
          dot.style.transform = 'translateX(0)';
        }
      }
    }

    toggle?.addEventListener('click', () => {
      const isDark = document.documentElement.classList.contains('dark');

      if (isDark) {
        document.documentElement.classList.remove('dark');
        localStorage.setItem('theme', 'light');
      } else {
        document.documentElement.classList.add('dark');
        localStorage.setItem('theme', 'dark');
      }

      updateUI();
    });

    // Initialize on page load
    updateUI();
  });
</script>
